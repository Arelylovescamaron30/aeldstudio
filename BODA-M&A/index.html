<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Marcelina & Antonio - Boda</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Lora:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{
  --gold:#d4af37;
  --gold-dark:#b9962e;
  --text:#3a3a3a;
  --bg:#ffffff;
  --muted:#777;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:'Lora',serif;scroll-behavior:smooth}

/* Entrada sobre */
#overlay{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;
  background:linear-gradient(180deg,#fff, #faf9f7);
  z-index:9999;transition:opacity .8s ease;
}
.seal{
  font-family:'Great Vibes',cursive;
  color:#fff;background:linear-gradient(145deg,var(--gold),#e8c75a);
  width:96px;height:96px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  letter-spacing:.5px;font-size:26px;border:2px solid rgba(255,255,255,.7);
}
.envelope{
  position:relative;width:min(360px,80vw);height:min(240px,53vw);
  cursor:pointer;
  border:3px solid var(--gold); 
  box-shadow:0 0 18px rgba(212,175,55,0.8); 
  border-radius:12px;
}
.flap{
  position:absolute;inset:0;background:linear-gradient(180deg,#FFFEF0,#f5f1e6);
  clip-path:polygon(0 0,100% 0,50% 55%);transform-origin:top;transition:transform 1s ease;
}
.envelope.open .flap{transform:rotateX(180deg)}
.hint{margin-top:18px;color:var(--muted);font-size:0.95rem;text-align:center}

/* Contenido */
main{
  max-width:980px;
  margin:0 auto;
  padding:20px;
  text-align:center;
  opacity:0;
  transform:translateY(-100%);
  animation:slideDown 1.5s forwards;
}
@keyframes slideDown{
  0%{opacity:0; transform:translateY(-100%);}
  100%{opacity:1; transform:translateY(0);}
}

.container{max-width:980px;margin:0 auto;padding:0 20px 60px;text-align:center}

/* Secciones con fondo adaptable */
section{
  padding:32px 0;
  margin-bottom:24px;
  color:#fff;
  position:relative;
  overflow:hidden;
  background-size:100% 100%;
  background-position:center;
  background-repeat:no-repeat;
}
section > *{position:relative;z-index:1}

/* Fondos individuales */
#hero-section{background-image:url('fondo-p.jpg');}
#palabras-section{background-image:url('fondo-a.jpg');}
#dia-section{background-image:url('fondo-a.jpg');}
#lugar-section{background-image:url('fondo-p.jpg');}
#vestimenta{background-image:url('fondo-a.jpg');}
#confirmacion{background-image:url('fondo-a.jpg');}

.hero{margin-top:20px;border-radius:20px;overflow:hidden;}
.hero img{width:100%;display:block;object-fit:cover}

.names{text-align:center;padding:28px 16px 8px;}
.names h1{
  font-family:'Great Vibes',cursive;font-size:3.2rem;line-height:1;margin:0;
  background:linear-gradient(135deg,var(--gold),#f1d980,var(--gold));
  -webkit-background-clip:text;background-clip:text;color:transparent;
}
.tagline{margin:6px 0 22px;color:var(--muted);font-style:italic;text-align:center}

.divider{height:1px;background:linear-gradient(90deg,transparent,var(--gold),transparent);margin:18px auto 26px;width:min(240px,60%);position:relative;}
.divider::after{content:"❧";position:absolute;left:50%;top:-12px;transform:translateX(-50%);color:var(--gold-dark);font-size:18px;}

h2{margin:0 0 10px;font-size:1.6rem;font-weight:600;text-align:center;color:#3a3a3a}
p{margin:6px 0;font-size:1.08rem;text-align:center;color:#3a3a3a}

.places{display:grid;grid-template-columns:1fr;gap:16px}
@media(min-width:760px){.places{grid-template-columns:1fr 1fr}}
.place-title{font-weight:600}

.date-card{text-align:center;padding:24px}
.big-date{font-size:2rem;margin:4px 0;color:var(--gold-dark);font-weight:600}

.maps-wrap{display:grid;grid-template-columns:1fr;gap:16px}
@media(min-width:900px){.maps-wrap{grid-template-columns:1.2fr .8fr}}
.map-tabs{display:flex;gap:10px;margin-bottom:12px;justify-content:center}
.tab{flex:1;padding:10px 12px;border-radius:999px;border:1px solid var(--gold);background:#fff;color:var(--gold-dark);cursor:pointer;font-weight:600;text-align:center;}
.tab.active{background:linear-gradient(135deg,var(--gold),#f1d980);color:#fff;border-color:transparent}
.mapbox{height:340px;border-radius:14px;overflow:hidden;border:1px solid rgba(0,0,0,.08)}
.mapbox iframe{width:100%;height:100%;border:0}

.btn, .dress-btn{display:inline-block;margin-top:10px;padding:12px 18px;border-radius:999px;text-decoration:none;font-weight:700;transition:.25s ease;text-align:center;}
.btn{background:#fff;color:var(--gold-dark);border:2px solid var(--gold);}
.btn:hover{background:linear-gradient(135deg,var(--gold),#f1d980);color:#fff;border-color:transparent;transform:translateY(-1px);}
.dress-btn{background:linear-gradient(135deg,var(--gold),#f1d980);color:#fff;cursor:default;}

footer{padding:36px 14px;color:var(--muted);text-align:center}

.reveal{opacity:0;transform:translateY(24px);transition:all .8s ease}
.reveal.on{opacity:1;transform:none}

.audio-container{margin:1rem 0;text-align:center;}
canvas#confetti-canvas{
  position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:99999;
}
</style>
</head>
<body>

<!-- ENTRADA: SOBRE -->
<div id="overlay" aria-label="Abrir invitación">
  <div class="envelope" id="envelope">
    <div class="flap"></div>
    <div class="seal">M & A</div>
  </div>
  <div class="hint">Toca el sobre para abrir la invitación</div>
</div>

<!-- CONTENIDO -->
<main class="container" id="content" style="display:none;">

  <!-- Foto de novios -->
  <section id="hero-section" class="reveal">
    <div class="hero">
      <img src="foto.png" alt="Foto de los novios">
      <p class="tagline">Con la bendición de Dios y nuestras familias</p>
      <div class="audio-container">
        <audio controls>
          <source src="cancion.mp3" type="audio/mpeg">
          Tu navegador no soporta el elemento de audio.
        </audio>
      </div>
    </div>
  </section>

  <!-- Palabras invitando -->
  <section id="palabras-section" class="reveal">
    <h2>Nos haría muy feliz que nos acompañaras</h2>
    <p>Te invitamos a compartir con nosotros el inicio de esta nueva etapa. Tu presencia hará de nuestro día un recuerdo inolvidable.</p>
  </section>

  <!-- Día -->
  <section id="dia-section" class="reveal">
    <h2>Día</h2>
    <div class="divider"></div>
    <p class="big-date">26 de diciembre de 2025</p>
  </section>      

  <!-- Lugar -->
  <section id="lugar-section" class="reveal">
    <h2>Lugar</h2>
    <div class="divider"></div>
    <div class="places">
      <div>
        <p class="place-title">Ceremonia Religiosa</p>
        <p>Santa Madre de Dios</p>
        <p>Zacatipan, Tamazunchale, S.L.P.</p>
        <p>Hora: 4:00 PM</p>
        <p>Padres de la novia: Francisca Antonio Hernández; Isaías Aquino Bueno</p>
        <p>Padres del novio: María Casiana Ortiz Ramírez; Celedonio Valles Martínez</p>
        <p>Padrinos de velación: Hipólita Márquez Bueno; J. Carmen Hernández Hernández</p>
      </div>
      <div>
        <p class="place-title">Recepción</p>
        <p>Cancha deportiva de Vega Larga</p>
        <p>Tamazunchale, S.L.P.</p>
        <p>Hora: 6:00 PM</p>
      </div>
    </div>
  </section>

<!-- Maps -->
<section id="maps-section" class="reveal">
  <div class="maps-wrap">
    <div>
      <div class="map-tabs">
        <button class="tab active" data-map="iglesia">Iglesia</button>
        <button class="tab" data-map="recepcion">Recepción</button>
      </div>
      <div class="mapbox">
        <iframe id="mapFrame" src="https://www.google.com/maps?q=Santa+Madre+de+Dios+Zacatipan+Tamazunchale+SLP&output=embed" loading="lazy" allowfullscreen></iframe>
      </div>
    </div>
  </div>
</section>

<!-- Countdown -->
<section id="countdown-section" class="reveal" style="background-image:url('fondo-a.jpg');">
  <h2>Cuenta regresiva</h2>
  <div class="divider"></div>
  <p id="countdown" class="big-date">—</p>
  <a id="btnCalendar" class="dress-btn" href="#" download>Guardar en mi calendario</a>
</section>


  <!-- Dress code -->
  <section class="reveal" id="vestimenta">
    <h2>Código de vestimenta</h2>
    <div class="divider"></div>
    <a class="dress-btn">Formal</a>
    <p>Tonos neutros. Evitar blanco total.</p>
  </section>

  <!-- Confirmación -->
  <section class="reveal" id="confirmacion">
    <h2>Confirmación</h2>
    <div class="divider"></div>
    <a class="btn" target="_blank" rel="noopener"
       href="https://wa.me/5218126459478?text=Hola%2C%20confirmo%20mi%20asistencia%20a%20la%20boda%20de%20Marcelina%20y%20Antonio.">
      Confirmar por WhatsApp
    </a>
    <p>Gracias por confirmar antes del 10 de diciembre.</p>
  </section>

</main>

<canvas id="confetti-canvas"></canvas>
<footer>© 2025 | Con cariño, Marcelina & Antonio</footer>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
<script>
// Abrir sobre
const overlay = document.getElementById('overlay');
const envelope = document.getElementById('envelope');
const content  = document.getElementById('content');
const confettiCanvas = document.getElementById('confetti-canvas');

envelope.addEventListener('click', ()=>{
  envelope.classList.add('open');
  setTimeout(()=> overlay.style.opacity = '0', 900);
  setTimeout(()=>{
    overlay.style.display='none';
    content.style.display='block';
    autoScrollDown();
    launchConfetti();
    document.querySelectorAll('.reveal').forEach((el,i)=>{
      setTimeout(()=> el.classList.add('on'), 120*i);
    });
  },1600);
});

// Confetti elegante y dorado
function launchConfetti(){
  const myConfetti = confetti.create(confettiCanvas, { resize:true, useWorker:true });
  const duration = 5 * 1000;
  const animationEnd = Date.now() + duration;
  const colors = ['#d4af37', '#f1d980', '#b9962e', '#e8c75a'];
  const sizes = [5,7,9];
  const gravity = 0.3;
  const ticks = 80;

  (function frame(){
    const timeLeft = animationEnd - Date.now();
    if(timeLeft <= 0) return;

    const particleCount = 20 * (timeLeft / duration);
    myConfetti({
      particleCount,
      startVelocity: 20,
      spread: 60,
      ticks: ticks,
      gravity: gravity,
      scalar: sizes[Math.floor(Math.random()*sizes.length)]/7,
      origin: { x: Math.random(), y: Math.random() - 0.2 },
      colors: [colors[Math.floor(Math.random()*colors.length)]]
    });
    requestAnimationFrame(frame);
  })();
}

// Auto scroll
function autoScrollDown() {
  let scrollInterval;
  let speed = 2;
  setTimeout(()=>{
    scrollInterval = setInterval(()=>{
      if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {
        clearInterval(scrollInterval);
      } else {
        window.scrollBy(0, speed);
      }
    },30);
  },5000);
}

// Tabs de mapas
const tabs = document.querySelectorAll('.tab');
const mapFrame = document.getElementById('mapFrame');
tabs.forEach(t=>{
  t.addEventListener('click',()=>{
    tabs.forEach(x=>x.classList.remove('active'));
    t.classList.add('active');
    mapFrame.src = t.dataset.map==='iglesia' 
      ? "https://www.google.com/maps?q=Santa+Madre+de+Dios+Zacatipan+Tamazunchale+SLP&output=embed"
      : "https://www.google.com/maps?q=Cancha+deportiva+de+Vega+Larga+Tamazunchale+SLP&output=embed";
  });
});

// Countdown
const countdown = document.getElementById('countdown');
const weddingDate = new Date('December 26, 2025 16:00:00').getTime();
setInterval(()=>{
  const now = new Date().getTime();
  const diff = weddingDate - now;
  if(diff>0){
    const d=Math.floor(diff/(1000*60*60*24));
    const h=Math.floor((diff%(1000*60*60*24))/(1000*60*60));
    const m=Math.floor((diff%(1000*60*60))/(1000*60));
    const s=Math.floor((diff%(1000*60))/1000);
    countdown.innerHTML=`${d}d ${h}h ${m}m ${s}s`;
  }else countdown.innerHTML='¡Hoy es el gran día!';
},1000);

// Agregar a calendario
document.getElementById('btnCalendar').addEventListener('click', function(e){
  e.preventDefault();
  const icsContent = `
BEGIN:VCALENDAR
VERSION:2.0
CALSCALE:GREGORIAN
BEGIN:VEVENT
DTSTART:20251226T160000
DTEND:20251226T210000
SUMMARY:Boda de Marcelina & Antonio
DESCRIPTION:Ceremonia y recepción de la boda de Marcelina & Antonio
LOCATION:Santa Madre de Dios, Zacatipan, Tamazunchale, S.L.P.
END:VEVENT
END:VCALENDAR
`.trim();
  const blob = new Blob([icsContent], {type:'text/calendar'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'Boda_Marcelina_Antonio.ics';
  a.click();
  URL.revokeObjectURL(url);
});
</script>
</body>
</html>
