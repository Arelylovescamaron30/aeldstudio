<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>XV de Devany</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;700&display=swap');

  :root {
    --silver: #C0C0C0;
    --muted: #6a1b9a;
  }

  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: 'Montserrat', sans-serif;
    background: #EAE5FF;
    color: #9084d4;
  }

  #overlay {
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: linear-gradient(180deg, #fff, #faf9f7);
    z-index: 9999;
    transition: opacity 0.8s ease;
  }

  .envelope {
    position: relative;
    width: min(360px,80vw);
    height: min(240px,53vw);
    background: var(--silver);
    border-radius: 8px;
    box-shadow: 0 18px 40px rgba(0,0,0,.15);
    cursor: pointer;
    overflow: hidden;
  }

  .envelope::after {
    content:"";
    position: absolute;
    inset: 0;
    border-radius: 8px;
    padding: 2px;
    background: linear-gradient(135deg,#C0C0C0,#E0E0E0,#C0C0C0);
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite: xor; mask-composite: exclude;
  }

  .flap {
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg,#e0e0e0,#cfcfcf);
    clip-path: polygon(0 0,100% 0,50% 55%);
    transform-origin: top;
    transition: transform 1s ease;
    border-top-left-radius:8px;
    border-top-right-radius:8px;
    z-index: 2;
  }

  .envelope.open .flap {
    transform: rotateX(180deg);
  }

  .seal {
    font-family:'Great Vibes', cursive;
    color: #fff;
    background: linear-gradient(145deg,#d4af37,#e8c75a);
    width: 96px;
    height: 96px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 10px 25px rgba(0,0,0,.15), inset 0 2px 6px rgba(255,255,255,.5);
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
    letter-spacing: .5px;
    font-size: 26px;
    border: 2px solid rgba(255,255,255,.7);
    z-index: 3;
  }

  .hint {
    margin-top: 18px;
    color: var(--muted);
    font-size: 0.95rem;
    text-align: center;
  }

  #content { display: none; }
</style>
</head>
<body>

<div id="overlay">
  <div class="envelope" id="envelope">
    <div class="flap"></div>
    <div class="seal">XV</div>
  </div>
  <div class="hint">Haz clic para abrir el sobre</div>
</div>

<canvas id="confettiCanvas" style="position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999;"></canvas>

<div id="content">
  <h1 style="text-align:center; margin-top:2rem;">¡Bienvenidos a mis XV años!</h1>
  <p style="text-align:center;">Aquí irá todo tu contenido de la invitación...</p>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
<script>
const overlay = document.getElementById('overlay');
const envelope = document.getElementById('envelope');
const content  = document.getElementById('content');
const confettiCanvas = document.getElementById('confettiCanvas');

function launchConfetti(){
  const myConfetti = confetti.create(confettiCanvas,{resize:true,useWorker:true});
  const duration = 5*1000;
  const animationEnd = Date.now() + duration;
  const colors = ['#C0C0C0','#D3D3D3','#E0E0E0'];
  const sizes = [5,7,9];
  const gravity = 0.3;
  const ticks = 80;
  (function frame(){
    const timeLeft = animationEnd - Date.now();
    if(timeLeft <= 0) return;
    const particleCount = Math.round(20*(timeLeft/duration));
    myConfetti({
      particleCount,
      startVelocity: 20,
      spread: 60,
      ticks: ticks,
      gravity: gravity,
      scalar: sizes[Math.floor(Math.random()*sizes.length)]/7,
      origin: {x:Math.random(), y:Math.random()-0.2},
      colors: [colors[Math.floor(Math.random()*colors.length)]]
    });
    requestAnimationFrame(frame);
  })();
}

envelope.addEventListener('click',()=>{
  envelope.classList.add('open');
  setTimeout(()=>{
    overlay.style.opacity='0';
  }, 500);
  setTimeout(()=>{
    overlay.style.display='none';
    content.style.display='block';
    launchConfetti();
  }, 1200);
});
</script>
</body>
</html>
